---
import "../styles/generel.css";
---
<section id="komponent">
        <nav>
            <ul class="menu">
                <li><a href="index.html">FORSIDE</a></li>
                <li><a href="om.html">OM</a></li>
                <li><a href="forloeb.html">FORLØB</a></li>
                <li><a href="kontakt.html">KONTAKT</a></li>
                <li class="projekter_item">
                    <a href="#">PROJEKTER</a>
                    <ul class="projekter_dropdown">
                        <li><a href="projekter_listeview.html">PRIVAT</a></li>
                        <li><a href="#">ERHVERV</a></li>
                        <li><a href="#">KULTUR</a></li>
                        <li><a href="#">KOMMENDE PROJEKTER</a></li>
                    </ul>
                </li>
            </ul>
        </nav>

        <div class="burger">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
        <div class="sticky_menu">
            <ul>
                <li><a href="index.html">FORSIDE</a></li>
                <li><a href="om.html">OM</a></li>
                <li><a href="forloeb.html">FORLØB</a></li>
                <li><a href="kontakt.html">KONTAKT</a></li>
                <li class="projekter_item">
                    <a href="#">PROJEKTER</a>
                    <ul class="projekter_dropdown">
                        <li><a href="projekter_listeview.html">PRIVAT</a></li>
                        <li><a href="#">ERHVERV</a></li>
                        <li><a href="#">KULTUR</a></li>
                        <li><a href="#">KOMMENDE PROJEKTER</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </section>
     <style>
   
 @media (min-width: 768px) and (max-width: 1024px), screen and (min-width: 1025px) {
    .sticky_menu {
        position: -webkit-sticky;
        position: sticky;
        top: 0;
        width: 200px;
        height: 100vh;
        padding-top: 40px;
        margin-left: 20px;
        background-color: var(--primary-color);
    }

    .sticky_menu ul {
        list-style-type: none;
        padding: 0;
        height: 100%;
    }

    .sticky_menu li {
        margin: 10px 0;
    }

    .sticky_menu a {
        text-decoration: none;
        color: var(--secondary-color);
        font-family: var(--font-primary);
        font-weight: 300;
    }

    .sticky_menu a:hover {
        color: var(--tertiary-color);
    }

    .projekter_item.active .projekter_dropdown {
        display: block;
    }

    .projekter_dropdown {
        display: none;
        position: absolute;
        left: 0;
        width: 220px;
        z-index: 1;
    }

    .projekter_dropdown a {
        font-size: 0.8em;
        font-weight: 400;
    }

    .menu {
        display: none;
    }
}


    </style>

    <script>
   document.addEventListener('DOMContentLoaded', () => {
    const burger = document.querySelector(".burger") as HTMLDivElement;
    const nav = document.querySelector("nav") as HTMLElement;
    const links = document.querySelectorAll(".menu li a") as NodeListOf<HTMLAnchorElement>;
    const linksSticky = document.querySelectorAll(".sticky_menu li a") as NodeListOf<HTMLAnchorElement>;
    const projekterItemSticky = document.querySelector(".sticky_menu .projekter_item") as HTMLElement;
    const projekterDropdown = document.querySelector(".projekter_dropdown") as HTMLElement;
    const projekterItemMenu = document.querySelector(".menu .projekter_item") as HTMLElement;
    const stickyMenuUl = document.querySelector(".sticky_menu ul") as HTMLUListElement;

    // Function to handle active link
    function handleActiveLink(event: Event, linkList: NodeListOf<HTMLAnchorElement>) {
        linkList.forEach((otherLink) => {
            otherLink.classList.remove("active");
        });
        (event.target as HTMLAnchorElement).classList.add("active");
    }

    // Add click event to links in the sticky menu
    linksSticky.forEach((link) => {
        link.addEventListener("click", (event) => {
            handleActiveLink(event, linksSticky);
            burger.classList.remove("active");
            nav.classList.remove("active");
        });
    });

    // Toggle dropdown for sticky menu
    projekterItemSticky.addEventListener("click", (event) => {
        event.stopPropagation();
        projekterItemSticky.classList.toggle("active");
        const dropdownHeight = projekterDropdown.offsetHeight;

        if (projekterItemSticky.classList.contains("active")) {
            stickyMenuUl.style.height = `calc(100% + ${dropdownHeight}px)`;
        } else {
            stickyMenuUl.style.height = "100%";
        }
    });

    // Add click event to burger icon
    burger.addEventListener("click", () => {
        burger.classList.toggle("active");
        nav.classList.toggle("active");
    });

    // Close menu when clicking on a link
    links.forEach((link) => {
        link.addEventListener("click", (event) => {
            handleActiveLink(event, links);
            burger.classList.remove("active");
            nav.classList.remove("active");
        });
    });

    // Toggle dropdown for main menu in mobile view
    projekterItemMenu.addEventListener("click", (event) => {
        event.stopPropagation();
        projekterItemMenu.classList.toggle("active");
    });

    // Close dropdown when clicking outside
    document.addEventListener("click", (event) => {
        const targetNode = event.target as Node;
        if (!projekterItemMenu.contains(targetNode)) {
            projekterItemMenu.classList.remove("active");
        }
    });
});


    </script>

</body>

</html>