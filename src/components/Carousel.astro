---
import "../styles/generel.css";
---
<!-- Carousel -->
<div class="carousel">
  <!-- Container for billeder, inklusiv slørede baggrundsbilleder -->
  <div class="carousel-track">
    <!-- Enkelte carousel-elementer med billede og slørede sider -->
    <div class="carousel-item">
      <img src="carousel_test.webp" alt="test" class="carousel-image active">
      <div class="blurry-image-left" style="background-image: url('img/carousel_test3.webp');"></div>
      <div class="blurry-image-right" style="background-image: url('/img/carousel_test2.webp');"></div>
    </div>
    <div class="carousel-item">
      <img src="carousel_test2.webp" alt="test2" class="carousel-image">
      <div class="blurry-image-left" style="background-image: url('/img/carousel_test3.webp');"></div>
      <div class="blurry-image-right" style="background-image: url('/img/carousel_test.webp');"></div>
    </div>
    <div class="carousel-item">
      <img src="carousel_test3.webp" alt="test3" class="carousel-image">
      <div class="blurry-image-left" style="background-image: url('/img/carousel_test.webp');"></div>
      <div class="blurry-image-right" style="background-image: url('/img/carousel_test2.webp');"></div>
    </div>
  </div>
  <!-- Knapper til at skifte billede -->
  <button class="prev" aria-label="Forrige billede">&#60;</button>
  <button class="next" aria-label="Næste billede">&#62;</button>
</div>

<style>
.carousel {
  width: 100%;
  overflow: hidden;
  position: relative;
}

.carousel-track {
  display: flex;
  transition: transform 0.5s ease;
}

.carousel-item {
  flex: 0 0 100%;
  position: relative;
}

.carousel-image, .blurry-image-left, .blurry-image-right {
  width: 100%;
  display: block;
  opacity: 0.5;
}

.carousel-image.active {
  opacity: 1; /* Gør kun det aktive billede fuldt synligt */
}

.blurry-image-left, .blurry-image-right {
  position: absolute;
  top: 0;
  height: 100%;
  width: 100%;
  filter: blur(8px);
}

.blurry-image-left {
  left: -100%; /* Placerer det til venstre for det aktive billede */
}

.blurry-image-right {
  left: 100%; /* Placerer det til højre for det aktive billede */
}

.button-container {
  position: absolute;
  width: 100%;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  justify-content: space-between;
  padding: 0 10px;
}

button {
  padding: 10px;
  background-color: #fff;
  border: 1px solid #ccc;
  cursor: pointer;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const images = document.querySelectorAll('.carousel-image');
  let current = 0;

  function changeSlide(direction) {
    images[current].classList.remove('active'); // Skjuler det nuværende billede
    current = (current + direction + images.length) % images.length;
    images[current].classList.add('active'); // Viser det nye billede
  }

  setInterval(() => {
    changeSlide(1);
  }, 10000);

  document.querySelector('.prev').addEventListener('click', () => changeSlide(-1));
  document.querySelector('.next').addEventListener('click', () => changeSlide(1));
});
</script>
