---
// Importer nødvendige komponenter og CSS-stilark
import CtaKnap from "../../components/CtaKnap.astro";
import MainLayout from "../../components/MainLayout.astro";
import SiteOverskrifter from "../../components/SiteOverskrifter.astro";
import TilbageKnap from "../../components/TilbageKnap.astro";
import TopKnap from "../../components/TopKnap.astro";
const title = "Arkitektværkstedet";
import "../../styles/generel.css";

// Funktion til at hente alle stier til statiske sider
export async function getStaticPaths() {
  try {
    // Hent data fra Supabase API
    const response = await fetch("https://bwejzjnppscnjzvmnefp.supabase.co/rest/v1/database", {
      method: "GET",
      headers: {
        apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ3ZWp6am5wcHNjbmp6dm1uZWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTY1NDk4NjYsImV4cCI6MjAzMjEyNTg2Nn0.SmzupH_uwfFyHXFJMw7jt9RrXWUobKy5c_fMOpJRooI",
        "Content-Type": "application/json",
      },
    });

    console.log("Response status:", response.status);
    console.log("Response ok:", response.ok);

    if (!response.ok) {
      throw new Error("Network response was not ok");
    }

    const data = await response.json(); // Konverter svar til JSON

    console.log("Fetched data:", data);

    // Omdan data til det format, der kræves af Astro
    return data.map((product) => {
      return { 
          params: { slug: String(product.slug) }, 
          props: { myData: product }, 
      };
    });

  } catch (error) {
    console.error("Fetch error:", error);
    return []; // Returner en tom array ved fejl
  }
}

// Hent data fra Astro.props, som er leveret af getStaticPaths
const { myData } = Astro.props;
---

<MainLayout>
  <SiteOverskrifter text="PRIVATE PROJEKTER" text2={myData.projektnavn} />

  <article>
    <div class="projekt_introduktion">
      <img class="projekt_introduktion_billede" src={myData.projektbillede} alt="billede af sommerhusbolig i kulhuse udefra" loading="lazy">
      <h6 class="projekt_introduktion_overskrift">{myData.projekt_introduktion_overskrift}</h6>
      <p class="breadtxt_projekt_introduktion">{myData.breadtxt_projekt_introduktion}</p>
    </div>

    <img class="projekt_billede" src={myData.billede_02} alt="billede af projekt indefra" loading="lazy">

    <div class="projektinfo">
      <h6 class="projektinfo_overskrift">PROJEKTINFO</h6>
      <div class="line_kort"></div>
      <p class="inginør">Ingenør: {myData.ingenør}</p>
      <p class="bygherre">Bygherre: {myData.bygherre}</p>
      <p class="byggeaar">Byggeår: {myData.byggeaar}</p>
    </div>

    <div class="to_billeder_illu">
      <img class="to_billeder_illu01" src={myData.to_billeder_illu01} alt="billede af plantegninger" loading="lazy">
      <img class="to_billeder_illu02" src={myData.to_billeder_illu02} alt="billede af plantegninger" loading="lazy">
    </div>

    <div class="mere_info">
      <p class="bredtxt_mere_info02">{myData.bredtxt_mere_info01}</p>
      <img class="mere_info_billede" src={myData.mere_info_billede} alt="billede af projekt indefra" loading="lazy">
      <p class="bredtxt_mere_info01">{myData.bredtxt_mere_info02}</p>
    </div>

    <div class="knap2">
      <TilbageKnap />
    </div>

    <div class="udforsk_andre_projekter">
      <h6 class="udforsk_andre_projekter_overskrift">UDFORSK ANDRE PROJEKTER</h6>
      <div class="line_kort2"></div>
      <img class="udforsk_andre_projekter_kultur" src="../../../public/img/kultur_billede.webp" alt="billede af station og cykler" loading="lazy">
      <p class="kultur">KULTUR</p>
      <img class="udforsk_andre_projekter_erhverv" src="../../../public/img/erhverv_billede.webp" alt="billede af torvehallerne" loading="lazy">
      <p class="erhverv">ERHVERV</p>
      <img class="udforsk_andre_projekter_kommende_projekter" src="../../../public/img/kommende_projekter_billede.webp" alt="et billede af bindingsværk i en lejlighed" loading="lazy">
      <p class="kommende_projekter">KOMMENDE PROJEKTER</p>
    </div>

    <div class="knap3">
      <a href="/kontakt">
        <CtaKnap text="LAD OS SAMARBEJDE"></CtaKnap>
      </a>
    </div>
  </article>

  <div class="bund_grid">
    <div class="bund">
      <TopKnap />
    </div>
  </div>
</MainLayout>

<style>
      .bund_grid{
    display:grid;
    grid-template-columns:1fr 5fr;
  }
    .bund:nth-child(1) {
        grid-column: 4; /* Placerer den første knap i første kolonne */
    }

     p {
        font-weight: 300;
        line-height: 1.5rem;
    } 
    .projekt_introduktion {
            display: grid;
            grid-template-rows: 1fr 1fr;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .projekt_introduktion_billede {
            grid-column: 1 / span 2;
            grid-row: 1 / span 2;
        }

        .projekt_introduktion_overskrift {
            grid-row: 3;
            grid-column: 1 / span 2;
        }

        .breadtxt_projekt_introduktion {
            grid-row: 3;
            grid-column: 1 / span 2;
            margin-top: 10%;
        }

        .projekt_billede {
                margin-top: 20%;
            }

        .projektinfo {
            display: grid;
            grid-template-rows: 1fr 1fr;
            grid-template-columns: 1fr 1fr;
            gap: 5px;
        }

        .projektinfo_overskrift {
            grid-column: 1 / span 2;
            margin-top: 5%;
        }
  .line_kort {
        border-top: 0.5px solid var(--secondary-color);
        width: 20%;
        margin: 3% 0% 3% 0%;
    }
        .inginør {
            grid-column: 1 / span 2;
        }

        .bygherre {
            grid-column: 1 / span 2;
            margin-top: 5%;
        }

        .byggeaar {
            grid-column: 1 / span 2;
            margin-top: 5%;
            margin-bottom: 20%;
        }

        .to_billeder_illu {
            display: grid;
            grid-template-rows: 1fr 1fr;
            gap: 30px;
        }

        .to_billeder_illu01 {
            grid-row: 1;
        }

        .to_billeder_illu01 {
            grid-row: 2;
        }

        .mere_info {
            display: grid;
            grid-template-rows: 1fr 1fr 1fr;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30%;
        }

        .bredtxt_mere_info01 {
            grid-row: 1;
            grid-column: 1 / span 2;

        }

        .mere_info_billede {
            grid-row: 2;
            grid-column: 1 / span 2;
        }

        .bredtxt_mere_info02 {
       grid-row: 2 / span 2;
  grid-column: 1 / span 2;
  margin-top: 100%;
        }

        .knap2 {
           margin-top: 10%;
  margin-bottom: 10%;
        }

        .udforsk_andre_projekter {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
            gap: 30px;
        }

        .udforsk_andre_projekter_overskrift {
            grid-row: 1;
            grid-column: 1 / span 2;
        }
        .line_kort2 {
                 border-top: 0.5px solid var(--secondary-color);
        width: 20%;
        margin: 6% 0% 3% 0%;
        grid-row: 1; 
        grid-column: 1;
        margin-top: 20%;
        }

        .udforsk_andre_projekter_kultur {
            grid-row: 1;
            grid-column: 1 / span 2;
            margin-top: 25%;
        }

        .kultur {
            grid-row: 1;
            grid-column: 1 / span 2;
            margin-top: 15%;
        }

        .udforsk_andre_projekter_erhverv {
            grid-row: 2;
            grid-column: 1 / span 2;
            margin-top: 25%;
        }

        .erhverv {
            grid-row: 2;
            grid-column: 1 / span 2;
         margin-top: 15%;
        }

        .udforsk_andre_projekter_kommende_projekter {
            grid-row: 3;
            grid-column: 1 / span 2;
            margin-top: 25%;
        }

        .kommende_projekter {
            grid-row: 3;
            grid-column: 1 / span 2;
        margin-top: 15%;
        }

        .knap3 {
            margin-top: 20%;
            margin-bottom: 20%;
            margin-left: 20%;
        }
           .knap3 a {
            text-decoration: none;
           }

           .tilbagetopknap {
             margin-top: 20%;
            margin-bottom: 10%;
           margin-left: 33%;
           }

        @media (min-width: 768px) and (max-width: 1024px) {

            .projekt_introduktion {
                display: grid;
                grid-template-rows: 1fr;
                grid-template-columns: 1fr 1fr 1fr 1fr;
                gap: 20px;
            }

            .projekt_introduktion_billede {
                grid-row: 1;
                grid-column: 1 / span 2;
            }

            .projekt_introduktion_overskrift {
                grid-row: 1;
                grid-column: 3 / span 2;
                margin-top: 1%;
            }

            .breadtxt_projekt_introduktion {
                grid-row: 1;
                grid-column: 3 / span 2;
                margin-top: 10%;
            }

            .projekt_billede {
                margin-top: 20%;
            }

            .projektinfo {
                display: grid;
                grid-template-rows: 1fr 1fr;
                grid-template-columns: 1fr 1fr 1fr 1fr;
                gap: 20px;
                margin-bottom: 20%;
            }

            .projektinfo_overskrift {
                grid-column: 1 / span 2;
                grid-row: 1;
                margin-top: 5%;
            }
.line_kort {
            grid-row: 1;
  margin-top: 30%;
  grid-column: 1;
  }
            .inginør {
            grid-column: 1 / span 3;
    margin-top: 0%;
    margin-left: 10%;
            }

            .bygherre {
                grid-column: 1 / span 3;
                margin-top: 0%;
    margin-left: 10%;
            }

            .byggeaar {
                grid-column: 1 / span 3;
               margin-top: 0%;
    margin-left: 10%;
    margin-bottom: 0%;
            }

            .to_billeder_illu {
                display: grid;
                grid-template-rows: 1fr;
                grid-template-columns: 1fr 1fr 1fr 1fr;
                gap: 20px;
            }

            .to_billeder_illu01 {
                grid-row: 1;
                grid-column: 1 / span 2;
            }

            .to_billeder_illu02 {
                grid-row: 1;
                grid-column: 3 / span 2;
            }

            .mere_info {
                display: grid;
                grid-template-rows: 1fr 1fr;
                grid-template-columns: 1fr 1fr 1fr 1fr;
                gap: 30px;
                margin-top: 35%;
            }

            .bredtxt_mere_info01 {
                grid-row: 1;
                grid-column: 3 / span 2;

            }

            .mere_info_billede {
                grid-row: 1;
                grid-column: 1 / span 2;
            }

            .bredtxt_mere_info02 {
           grid-row: 1 / span 2;
  grid-column: 1 / span 2;
  margin-top: 100%;
            }

            .knap2 {
               margin-top: 10%;
                 margin-bottom: 5%;
            }

            .udforsk_andre_projekter {
                display: grid;
                grid-template-columns: 1fr 1fr 1fr;
                grid-template-rows: 1fr;
                gap: 20px;
            }

            .udforsk_andre_projekter_overskrift {
                grid-row: 1;
           grid-column: 1 / span 2;
            }

            .udforsk_andre_projekter_kultur {
                grid-row: 1;
                grid-column: 1;
                margin-top: 40%;
            }

            .kultur {
                grid-row: 1;
                grid-column: 1;
                margin-top: 25%;
            }

            .udforsk_andre_projekter_erhverv {
                grid-row: 1;
                grid-column: 2;
                margin-top: 40%;
            }

            .erhverv {
                grid-row: 1;
                grid-column: 2;
              margin-top: 25%;
            }

            .udforsk_andre_projekter_kommende_projekter {
                grid-row: 1;
                grid-column: 3;
                margin-top: 40%;
            }

            .kommende_projekter {
                grid-row: 1;
                grid-column: 3;
           margin-top: 25%;
            }

            .knap3 {
                margin-top: 20%;
                margin-bottom: 20%;
            }
             .tilbagetopknap {
             margin-top: 20%;
            margin-bottom: 10%;
           margin-left: 66%;
           }
        }

        @media (min-width: 1025px) {
            .projekt_introduktion {
                display: grid;
                grid-template-rows: 1fr;
                grid-template-columns: 1fr 1fr 1fr 1fr;
                gap: 20px;
            }

            .projekt_introduktion_billede {
                grid-row: 1;
                grid-column: 1 / span 2;
            }

            .projekt_introduktion_overskrift {
                grid-row: 1;
                grid-column: 3 / span 2;
                margin-top: 5%;
            }

            .breadtxt_projekt_introduktion {
                grid-row: 1;
                grid-column: 3 / span 2;
                margin-top: 15%;
            }

            .projekt_billede {
                margin-top: 20%;
            }

            .projektinfo {
                display: grid;
                grid-template-rows: 1fr 1fr;
                grid-template-columns: 1fr 1fr 1fr 1fr;
                gap: 20px;
                margin-bottom: 20%;
            }

            .projektinfo_overskrift {
                grid-column: 1 / span 2;
                grid-row: 1;
                margin-top: 5%;
            }
            .line_kort {
            grid-row: 1;
  margin-top: 30%;
  grid-column: 1;
  }

            .inginør {
                grid-column: 1 / span 3;
                  margin-left: 10%;
    margin-bottom: 0%;
        margin-top: 0%;
            }

            .bygherre {
                grid-column: 1 / span 3;
               margin-left: 10%;
    margin-top: 0%;
            }

            .byggeaar {
                grid-column: 1 / span 3;
              margin-left: 10%;
    margin-bottom: 0%;
       margin-top: 0%;
            }

            .to_billeder_illu {
                display: grid;
                grid-template-rows: 1fr;
                grid-template-columns: 1fr 1fr 1fr 1fr;
                gap: 20px;
            }

            .to_billeder_illu01 {
                grid-row: 1;
                grid-column: 1 / span 2;
            }

            .to_billeder_illu02 {
                grid-row: 1;
                grid-column: 3 / span 2;
            }

            .mere_info {
                display: grid;
                grid-template-rows: 1fr;
                grid-template-columns: 1fr 1fr 1fr 1fr;
                gap: 30px;
                margin-top: 20%;
            }

            .bredtxt_mere_info01 {
                grid-row: 1;
                grid-column: 3 / span 2;

            }

            .mere_info_billede {
                grid-row: 1;
                grid-column: 1 / span 2;
            }

            .bredtxt_mere_info02 {
                grid-row: 1;
                grid-column: 1 / span 2;
            }

            .knap2 {
                margin-top: 15%;
                margin-bottom: 5%;
            }

            .udforsk_andre_projekter {
                display: grid;
                grid-template-columns: 1fr 1fr 1fr;
                grid-template-rows: 1fr;
                gap: 20px;
            }

            .udforsk_andre_projekter_overskrift {
                grid-row: 1;
                grid-column: 1 / span 2;
            }

            .udforsk_andre_projekter_kultur {
                grid-row: 1;
                grid-column: 1;
                margin-top: 35%;
            }

            .kultur {
                grid-row: 1;
                grid-column: 1;
                margin-top: 25%;
            }

            .udforsk_andre_projekter_erhverv {
                grid-row: 1;
                grid-column: 2;
             margin-top: 35%;
            }

            .erhverv {
                grid-row: 1;
                grid-column: 2;
                margin-top: 25%;
            }

            .udforsk_andre_projekter_kommende_projekter {
                grid-row: 1;
                grid-column: 3;
            margin-top: 35%;
            }

            .kommende_projekter {
                grid-row: 1;
                grid-column: 3;
                margin-top: 25%;
            }

            .knap3 {
                margin-top: 20%;
                margin-bottom: 20%;
                margin-left: 35%;
            }

            .tilbagetopknap {
 
  margin-left: 79%;
}

        }
    </style>



</MainLayout>